<?xml version="1.0" encoding="utf-8" ?>
<odoo>

    <!-- Form view used for product.template only -->
    <record id="product_template_form_view_inherit_union_colombo" model="ir.ui.view">
        <field name="name">product.template.product.form.view.inherit</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="product.product_template_only_form_view"/>
        <field name="arch" type="xml">

            <xpath expr="//div[@name='options']/span[2]" position="after">
                <span class="d-inline-block">
                    <field name="is_garment"/>
                    <label for="is_garment"/>
                </span>
                <span class="d-inline-block" attrs="{'invisible': [('is_garment', '=', False)]}">
                    <field name="is_sample"/>
                    <label for="is_sample"/>
                </span>
                <span class="d-inline-block" attrs="{'invisible': [('is_garment', '=', False)]}">
                    <field name="is_bulk"/>
                    <label for="is_bulk"/>
                </span>
                <span class="d-inline-block" attrs="{'invisible': [('is_garment', '=', True)]}">
                    <field name="is_chemical"/>
                    <label for="is_chemical"/>
                </span>
                <!-- [UC-24] -->
                <span class="d-inline-block" attrs="{'invisible': [('is_garment', '=', False)]}">
                    <field name="available_certification"/>
                    <label for="available_certification"/>
                </span>
            </xpath>
            <xpath expr="//page[@name='general_information']" position="before">
                <!-- Style Information Tab -->
                <page string="Style Information" name="general_information"
                      attrs="{'invisible': [('is_garment','=',False)]}">
                    <group name="group_general">
                        <group>
                            <field name="buyer" attrs="{'required': [('is_garment', '=', True)]}"/>
                            <field name="customer" attrs="{'required': [('is_garment', '=', True)]}"/>
                        </group>
                        <group>
                            <field name="fabric_type" attrs="{'required': [('is_garment', '=', True)]}"/>
                            <field name="wash_type" attrs="{'required': [('is_garment', '=', True)]}"/>
                            <field name="garment_type" attrs="{'required': [('is_garment', '=', True)]}"/>
                            <field name="garment_select" widget="radio" invisible="1"
                                   attrs="{'required': [('is_garment', '=', True)]}"/>
                            <field name="samples"
                                   attrs="{'invisible': ['|','|',('garment_select', '=', 'bulk'),('garment_select', '=', False),('is_sample', '=', False)]}"/>
                        </group>
                    </group>
                    <!-- [UC-24] -->
                    <group>
                        <group>
                            <field name="certification"
                                   attrs="{'required': [('available_certification', '=', True)], 'invisible': [('available_certification', '=', False)]}"/>
                        </group>
                        <group></group>
                    </group>
                </page>
            </xpath>

            <xpath expr="//page[@name='variants']" position="after">
                <!-- MSDS I Information Tab -->
                <page string="MSDS I Information" name="msds_information"
                      attrs="{'invisible': [('is_chemical', '=', False)]}">
                    <group name="group_chemical">
                        <group>
                            <field name="msds_in_english"/>
                        </group>
                        <group>
                            <field name="msds_in_sinhala"/>
                        </group>
                    </group>
                </page>
                <!-- MSDS II Information Tab -->
                <page string="MSDS II Information" name="msds_ii_information"
                      attrs="{'invisible': [('is_chemical', '=', False)]}">
                    <group>
                        <group>
                            <field name="other_name"/>
                            <field name="chemical_formulator_type"/>
                        </group>
                        <group>
                            <field name="manufacturer_formulator"/>
                            <field name="local_agent"/>
                        </group>
                    </group>
                    <group>
                        <group string="EIM Rating">
                            <field name="environment"/>
                            <field name="worker_health"/>
                            <field name="location"/>
                        </group>
                        <group string="GOTS">
                            <field name="category"/>
                            <field name="chemical_type"/>
                            <field name="used_for"/>
                        </group>
                    </group>
                    <group>
                        <group string="MSDD">
                            <field name="available"/>
                            <field name="issue_date"/>
                            <field name="version"/>
                            <field name="revision_date"/>
                        </group>
                        <group string="Sign(Label)">
                            <field name="explosive"/>
                            <field name="health_hazard"/>
                            <field name="flammable"/>
                            <field name="environmental_hazard"/>
                            <field name="toxic"/>
                            <field name="corrosive"/>
                            <field name="oxidizing"/>
                            <field name="compressed_gas"/>
                            <field name="warning_irritant"/>
                        </group>
                    </group>
                    <group>
                        <group string="Personal Protection">
                            <field name="respirator"/>
                            <field name="gloves"/>
                            <field name="footwear"/>
                            <field name="eye_wear"/>
                            <field name="apron"/>
                            <field name="dust_mask"/>
                            <field name="overalls"/>
                            <field name="face_shield"/>
                            <field name="safety_helmet"/>
                        </group>
                        <group>
                        </group>
                    </group>
                    <group string="Measures for Cleaning">
                        <group>
                            <field name="measures_for_cleaning_english" string="English"/>
                        </group>
                        <group>
                            <field name="measures_for_cleaning_sinhala" string="Sinhala"/>
                        </group>
                    </group>
                    <group string="Storage Condition">
                        <group>
                            <field name="storage_condition_english" string="English"/>
                        </group>
                        <group>
                            <field name="storage_condition_sinhala" string="Sinhala"/>
                        </group>
                    </group>
                    <group string="Hazard Identification">
                        <group>
                            <field name="hazard_identification_english" string="English"/>
                        </group>
                        <group>
                            <field name="hazard_identification_sinhala" string="Sinhala"/>
                        </group>
                    </group>
                    <group>
                        <group string="Ratings">
                            <field name="health"/>
                            <field name="flammability"/>
                            <field name="reactivity_level"/>
                            <field name="contact"/>
                        </group>
                        <group string="Risk">
                            <field name="severity"/>
                            <field name="likelihood"/>
                            <field name="risk_rating"/>
                        </group>
                    </group>
                    <group>
                        <group>
                            <field name="storage_class"/>
                        </group>
                        <group string="Fire Extinguishers">
                            <field name="water"/>
                            <field name="foom"/>
                            <field name="dry_powder"/>
                            <field name="carbon_dioxide"/>
                        </group>
                    </group>
                    <div class="oe_title">
                        <p class="o_form_label">
                            <u>First Aid</u>
                        </p>
                    </div>
                    <group string="Inhalation">
                        <group>
                            <field name="inhalation_english" string="English"/>
                        </group>
                        <group>
                            <field name="inhalation_sinhala" string="Sinhala"/>
                        </group>
                    </group>
                    <group string="Eye Contact">
                        <group>
                            <field name="eye_contact_english" string="English"/>
                        </group>
                        <group>
                            <field name="eye_contact_sinhala" string="Sinhala"/>
                        </group>
                    </group>
                    <group string="Skin Contact">
                        <group>
                            <field name="skin_contact_english" string="English"/>
                        </group>
                        <group>
                            <field name="skin_contact_sinhala" string="Sinhala"/>
                        </group>
                    </group>
                    <group string="Ingestion">
                        <group>
                            <field name="ingestion_english" string="English"/>
                        </group>
                        <group>
                            <field name="ingestion_sinhala" string="Sinhala"/>
                        </group>
                    </group>
                    <group string="General">
                        <group>
                            <field name="general_english" string="English"/>
                        </group>
                        <group>
                            <field name="general_sinhala" string="Sinhala"/>
                        </group>
                    </group>
                    <group string="Physical and Chemical properties">
                        <group>
                            <field name="appearance"/>
                        </group>
                        <group></group>
                        <group>
                            <field name="chemical_color"/>
                        </group>
                        <group></group>
                        <group>
                            <field name="odor"/>
                        </group>
                        <group></group>
                        <group>
                            <field name="stability"/>
                        </group>
                        <group></group>
                        <group>
                            <field name="incompatible_materials" widget="many2many_tags"/>
                        </group>
                        <group></group>
                        <group>
                            <field name="reactivity"/>
                        </group>
                        <group></group>
                    </group>
                </page>
                <!-- Chemical Standards Tab -->
                <page string="Chemical Standards" name="chemical_standards"
                      attrs="{'invisible': [('is_chemical', '=', False)]}">
                    <field name="chemical_standards">
                        <tree string="Chemical Standards" editable="bottom">
                            <field name="name" attrs="{'required': [('parent.is_chemical', '=', True)]}"/>
                            <field name="document" widget="many2many_binary"
                                   attrs="{'required': [('parent.is_chemical', '=', True)]}"/>
                        </tree>
                    </field>
                </page>
            </xpath>

            <!-- Lab/Reports Tab -->
            <xpath expr="//page[@name='inventory']" position="after">
                <page string="Test/Lab Reports" name="lab_reports"
                      attrs="{'invisible': [('is_garment', '=', False)]}">
                    <field name="lab_reports">
                        <tree string="Test/Lab Reports" editable="bottom">
                            <field name="name" attrs="{'required': [('parent.is_garment', '=', True)]}"/>
                            <field name="document" widget="many2many_binary"
                                   attrs="{'required': [('parent.is_garment', '=', True)]}"/>
                        </tree>
                    </field>
                </page>
            </xpath>

            <xpath expr="//field[@name='default_code']" position="attributes">
                <attribute name="attrs">{'invisible':[('is_chemical', '!=', True)]}</attribute>
            </xpath>
            <xpath expr="//field[@name='default_code']" position="before">
                <field name="default_code" string="UC Number" attrs="{'invisible':[('is_chemical', '=', True)]}"/>
            </xpath>
        </field>
    </record>
    <!-- Product Template internal search-->
    <record id="product_template_search_view_inherit_union_colombo" model="ir.ui.view">
        <field name="name">product.template.search.inherit.union.colombo</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="product.product_template_search_view"/>
        <field name="arch" type="xml">
            <!-- group by -->
            <xpath expr="//filter[@name='categ_id']" position="after">
                <separator/>
                <filter string="Buyer" name="group_by_buyer" domain="[]" context="{'group_by': 'buyer'}"/>
                <filter string="Fabric Type" name="group_by_fabric_type" domain="[]"
                        context="{'group_by': 'fabric_type'}"/>
                <filter string="Wash Type" name="group_by_wash_type" domain="[]" context="{'group_by': 'wash_type'}"/>
                <filter string="Contact" name="group_by_customer" domain="[]" context="{'group_by': 'customer'}"/>
                <filter string="Created date" name="group_by_create_date" domain="[]"
                        context="{'group_by': 'create_date'}"/>
            </xpath>
        </field>
    </record>

    <!-- Product Template list view -->
    <record id="product_template_tree_view_inherit_union_colombo" model="ir.ui.view">
        <field name="name">product.template.product.tree.inherit</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="product.product_template_tree_view"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='default_code']" position="attributes">
                <attribute name="string">UC Number</attribute>
            </xpath>
        </field>
    </record>


    <!-- Form view used for product.product only -->
    <record id="product_product_form_view_inherit_union_colombo" model="ir.ui.view">
        <field name="name">product.product.form.view.inherit</field>
        <field name="model">product.product</field>
        <field name="inherit_id" ref="product.product_normal_form_view"/>
        <field name="arch" type="xml">
            <xpath expr="//div[@name='options']/span[2]" position="after">
                <span class="d-inline-block">
                    <field name="is_garment"/>
                    <label for="is_garment"/>
                </span>
                <span class="d-inline-block" attrs="{'invisible': [('is_garment', '=', False)]}">
                    <field name="is_sample"/>
                    <label for="is_sample"/>
                </span>
                <span class="d-inline-block" attrs="{'invisible': [('is_garment', '=', False)]}">
                    <field name="is_bulk"/>
                    <label for="is_bulk"/>
                </span>
                <span class="d-inline-block" attrs="{'invisible': [('is_garment', '=', True)]}">
                    <field name="is_chemical"/>
                    <label for="is_chemical"/>
                </span>
                <!-- [UC-24] -->
                <span class="d-inline-block" attrs="{'invisible': [('is_garment', '=', False)]}">
                    <field name="available_certification"/>
                    <label for="available_certification"/>
                </span>
            </xpath>
            <xpath expr="//page[@name='general_information']" position="before">
                <!-- Style Information Tab -->
                <page string="Style Information" name="general_information"
                      attrs="{'invisible': [('is_garment', '=', False)]}">
                    <group name="group_general">
                        <group>
                            <field name="buyer"/>
                            <field name="customer"/>
                            <field name="active" invisible="1"/>
                        </group>
                        <group>
                            <field name="fabric_type"/>
                            <field name="wash_type"/>
                            <field name="garment_type"/>
                            <field name="garment_select" widget="radio" invisible="1"/>
                            <field name="samples"
                                   attrs="{'invisible': ['|',('garment_select', '=', 'bulk'),('garment_select', '=', False)]}"/>
                        </group>
                    </group>
                    <!-- [UC-24] -->
                    <group>
                        <group>
                            <field name="certification"
                                   attrs="{'required': [('available_certification', '=', True)], 'invisible': [('available_certification', '=', False)]}"/>
                        </group>
                        <group></group>
                    </group>
                </page>
            </xpath>

            <xpath expr="//page[@name='sales']" position="before">
                <!-- MSDS I Information Tab -->
                <page string="MSDS I Information" name="msds_information"
                      attrs="{'invisible': [('is_chemical', '=', False)]}">
                    <group name="group_chemical">
                        <group>
                            <field name="msds_in_english"/>
                        </group>
                        <group>
                            <field name="msds_in_sinhala"/>
                        </group>
                    </group>
                </page>
            </xpath>

            <xpath expr="//field[@name='default_code']" position="attributes">
                <attribute name="attrs">{'invisible':[('is_chemical', '!=', True)]}</attribute>
            </xpath>
            <xpath expr="//field[@name='default_code']" position="before">
                <field name="default_code" string="UC Number" attrs="{'invisible':[('is_chemical', '=', True)]}"/>
            </xpath>
        </field>
    </record>

    <!-- Product Product list view -->
    <record id="product_product_tree_view_inherit_union_colombo" model="ir.ui.view">
        <field name="name">product.product.tree.inherit</field>
        <field name="model">product.product</field>
        <field name="inherit_id" ref="product.product_product_tree_view"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='default_code']" position="attributes">
                <attribute name="string">UC Number</attribute>
            </xpath>
        </field>
    </record>

    <!-- Functional Testing 1 -->
    <record id="product_variant_easy_edit_view_inherit_union_colombo" model="ir.ui.view">
        <field name="name">product.product.view.form.easy.inherit</field>
        <field name="model">product.product</field>
        <field name="inherit_id" ref="product.product_variant_easy_edit_view"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='default_code']" position="attributes">
                <attribute name="string">UC Number</attribute>
            </xpath>
        </field>
    </record>

    <!-- [UC-23] -->
    <!-- Chemical Standards list view-->
    <record id="chemical_standards_tree_view" model="ir.ui.view">
        <field name="name">chemical.standards.tree.view</field>
        <field name="model">chemical.standards</field>
        <field name="arch" type="xml">
            <tree string="Chemical Standards">
                <field name="name"/>
                <field name="document" widget="many2many_binary"/>
            </tree>
        </field>
    </record>

    <!-- Chemical Standards form view-->
    <record id="chemical_standards_form_view" model="ir.ui.view">
        <field name="name">chemical_standards.form.view</field>
        <field name="model">chemical.standards</field>
        <field name="arch" type="xml">
            <form string="Chemical Standards">
                <sheet>
                    <group>
                        <group>
                            <field name="name"/>
                        </group>
                        <group>
                            <field name="document" widget="many2many_binary"/>
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!--    action for Chemical Standards-->
    <record id="chemical_standards_action" model="ir.actions.act_window">
        <field name="name">Chemical Standards</field>
        <field name="res_model">chemical.standards</field>
        <field name="view_mode">tree,form</field>
    </record>


    <!-- [UC-28] -->
    <!-- Style Archive Approval list view-->
    <record id="style_archive_approval_tree_view" model="ir.ui.view">
        <field name="name">style.archive.approval.tree.view</field>
        <field name="model">style.archive.approval</field>
        <field name="arch" type="xml">
            <tree string="Style Archive Approval">
                <field name="product_id"/>
                <field name="state"/>
            </tree>
        </field>
    </record>

    <!-- Style Archive Approval form view -->
    <record id="style_archive_approval_form_view" model="ir.ui.view">
        <field name="name">style.archive.approval.form.view</field>
        <field name="model">style.archive.approval</field>
        <field name="arch" type="xml">
            <form string="Style Archive Approval">
                <header>
                    <button name="action_approve" string="Approve" type="object" class="oe_highlight"
                            groups="base.group_user"
                            attrs="{'invisible': [('state','!=', 'draft')]}"/>
                    <button name="action_set_to_draft" string="Set to Draft" type="object"
                            groups="base.group_user"
                            attrs="{'invisible': [('state','!=', 'approved')]}"/>
                    <field name="state" widget="statusbar" statusbar_visible="draft,approved"/>
                </header>
                <sheet>
                    <group>
                        <group>
                            <field name="product_id"/>
                        </group>
                        <group>

                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- action for Style Archive Approval -->
    <record id="style_archive_approval_action" model="ir.actions.act_window">
        <field name="name">Style Archive Approval</field>
        <field name="res_model">style.archive.approval</field>
        <field name="view_mode">tree,form</field>
    </record>

    <menuitem
            action="style_archive_approval_action" id="style_archive_approval_menu"
            parent="stock.menu_stock_warehouse_mgmt" sequence="40"/>

</odoo>